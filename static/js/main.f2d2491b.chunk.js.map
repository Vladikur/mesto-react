{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemoveCardPopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","userData","useContext","isOwn","openedCard","owner","_id","cardDeleteButtonClassName","isLiked","cardLikes","some","i","cardLikeButtonClassName","onClick","onCardDelete","type","onCardClick","cardImage","cardName","onCardLike","length","Main","avatar","onEditAvatar","name","onEditProfile","about","onAddPlace","initialCards","map","card","сardClick","link","likes","Footer","PopupWithForm","isOpen","closePopup","title","onSubmit","children","buttonText","EditProfilePopup","useState","setProfileName","description","setProfileAbout","validationName","setValidationName","validationAbout","setValidationAbout","useEffect","e","preventDefault","onUpdateUser","saving","value","onChange","target","validationMessage","id","placeholder","required","minLength","maxLength","EditAvatarPopup","setAvatar","validationAvatar","setValidationAvatar","onUpdateAvatar","AddPlacePopup","setCardName","cardLink","setCardLink","validationLink","setValidationLink","RemoveCardPopup","onRemoveCard","ImagePopup","apiMesto","config","this","url","authorization","auth","res","ok","json","Promise","reject","status","fetch","headers","method","then","_getResponseData","data","body","JSON","stringify","App","cards","setCards","abaut","currentUser","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","deleteCard","setDeleteCard","selectedCard","setSelectedCard","isSaving","setIsSaving","closeAllPopups","getProfileData","catch","err","console","log","closeByEscape","key","document","addEventListener","removeEventListener","getInitialCards","Provider","changeLikeCardStatus","newCard","state","c","item","newDataUser","profileRedact","finally","cardCreate","newAvatar","avatarRedact","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f2d2491b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.931a48ca.svg\";","import logo from '../images/header__logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={logo} alt=\"Логотип Mesto\" className=\"header__logo\" />\r\n        </header>\r\n    );\r\n}\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n    const userData = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.openedCard.owner._id === userData._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__remove ${isOwn ? '' : 'card__remove_visibility_hide'}`\r\n    );\r\n\r\n    const isLiked = props.cardLikes.some(i => i._id === userData._id);\r\n    const cardLikeButtonClassName = (\r\n        `card__like ${isLiked ? 'card__like_active' : ''}`\r\n    ); \r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.openedCard);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.openedCard);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.openedCard);\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <button onClick={handleDeleteClick} aria-label=\"Удаление карточки\" type=\"button\" className={cardDeleteButtonClassName}></button>\r\n            <div className=\"card__image-container\">\r\n                <img onClick={handleClick} src={props.cardImage} alt={props.cardName} className=\"card__image\" />\r\n            </div>\r\n            <div className=\"card__description-container\">\r\n                <h2 className=\"card__description\">{props.cardName}</h2>\r\n                <div className=\"card__button-container\">\r\n                  <button onClick={handleLikeClick} aria-label=\"Лайк\" type=\"button\" className={cardLikeButtonClassName}></button>\r\n                  <p className=\"card__likes\">{props.cardLikes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n    const userData = React.useContext(CurrentUserContext);\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n            <div className=\"profile__container\">\r\n                <div className=\"profile__image-container\">\r\n                    <button aria-label=\"Изменение имени и описания профиля\" type=\"button\" className=\"profile__image-redact\"></button>\r\n                    <img src={userData.avatar} alt=\"Фотография профиля\" className=\"profile__image\" onClick={props.onEditAvatar}/>\r\n                </div>\r\n                <div className=\"profile__container-info\">\r\n                <div className=\"profile__container-name\">\r\n                    <h1 className=\"profile__name\">{userData.name}</h1>\r\n                    <button aria-label=\"Изменение имени и описания профиля\" type=\"button\" className=\"profile__redact\" onClick={props.onEditProfile}></button>\r\n                </div>\r\n                <p className=\"profile__description\">{userData.about}</p>\r\n                </div>\r\n            </div>\r\n            <button aria-label=\"Добавление карточек с местами\" type=\"button\" className=\"profile__add-profile\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n    \r\n            <section className=\"places\">\r\n            <ul className=\"places__cards\">\r\n                {props.initialCards.map((card) => (\r\n                    <Card\r\n                        openedCard={card}\r\n                        onCardClick={props.сardClick}\r\n                        cardName={card.name}\r\n                        cardImage={card.link}\r\n                        key={card._id}\r\n                        cardLikes={card.likes}\r\n                        onCardLike={props.onCardLike}\r\n                        onCardDelete={props.onCardDelete}\r\n                    />\r\n                    )\r\n                )}\r\n            </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\nexport default Footer;","function PopupWithForm(props) {\r\n\r\n    return (\r\n        <section className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_is-opened' : ''}`} >\r\n            <div className=\"popup__container\">\r\n                <button  onClick={props.closePopup} aria-label=\"Закрыть редактирование профиля\" type=\"button\" className=\"popup__exit popup__exit-profile\"></button>\r\n                <h2 className=\"popup__text-redaction\">{props.title}</h2>\r\n                <form onSubmit={props.onSubmit} name={`${props.name}`} className=\"popup__form popup__form-profile\">\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"popup__save\">{props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const userData = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setProfileName] = React.useState('');\r\n    const [description, setProfileAbout] = React.useState('');\r\n    const [validationName, setValidationName] = React.useState('');\r\n    const [validationAbout, setValidationAbout] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setProfileName(userData.name);\r\n        setProfileAbout(userData.about);\r\n    }, [userData, props.isOpen]);\r\n\r\n    function handleChangeName(e) {\r\n        setProfileName(e.target.value)\r\n        setValidationName(e.target.validationMessage)\r\n    }\r\n\r\n    function handleChangeAbout(e) {\r\n        setProfileAbout(e.target.value)\r\n        setValidationAbout(e.target.validationMessage)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText={`${props.saving ? 'Сохранение...' : 'Сохранить'}`} title=\"Редактировать профиль\" name=\"edit\" isOpen={props.isOpen} closePopup={props.closePopup} >\r\n            <section className=\"popup__input-element\">\r\n                <input value={name || ''} onChange={handleChangeName} id=\"sing-in-name\" type=\"text\" placeholder=\"Имя\" name=\"name\" className=\"popup__input popup__input_change_name\" required minLength=\"2\" maxLength=\"40\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-name-error\">{validationName}</span>\r\n            </section>\r\n            <section className=\"popup__input-element\">\r\n                <input value={description || ''} onChange={handleChangeAbout} id=\"sing-in-description\" type=\"text\" placeholder=\"Описание\" name=\"description\" className=\"popup__input popup__input_change_description\" required minLength=\"2\" maxLength=\"200\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-description-error\">{validationAbout}</span>\r\n            </section>\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    \r\n    const [avatar, setAvatar] = React.useState('');\r\n    const [validationAvatar, setValidationAvatar] = React.useState('');\r\n\r\n    function handleSubmit(e) {\r\n      e.preventDefault();\r\n      \r\n      props.onUpdateAvatar({\r\n        avatar: avatar,\r\n      });\r\n\r\n      setAvatar('')\r\n\r\n    }\r\n\r\n    function handleChangeAvatar(e) {\r\n      setAvatar(e.target.value)\r\n      setValidationAvatar(e.target.validationMessage)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText={`${props.saving ? 'Сохранение...' : 'Сохранить'}`} title=\"Обновить аватар\" name=\"add-avatar\" isOpen={props.isOpen} closePopup={props.closePopup} >\r\n          <section className=\"popup__input-element\">\r\n            <input value={avatar || ''} onChange={handleChangeAvatar} id=\"avatar-url\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"avatar\" className=\"popup__input popup__input_change_avatar\" required />\r\n            <span className=\"popup__input-error\" id=\"avatar-url-error\">{validationAvatar}</span>\r\n          </section>\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [cardName, setCardName] = React.useState('');\r\n    const [cardLink, setCardLink] = React.useState('');\r\n    const [validationName, setValidationName] = React.useState('');\r\n    const [validationLink, setValidationLink] = React.useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setCardName(e.target.value)\r\n        setValidationName(e.target.validationMessage)\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setCardLink(e.target.value)\r\n        setValidationLink(e.target.validationMessage)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: cardName,\r\n            link: cardLink,\r\n        });\r\n        setCardName('')\r\n        setCardLink('')\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText={`${props.saving ? 'Создание...' : 'Создать'}`} title=\"Новое место\" name=\"add-card\" isOpen={props.isOpen} closePopup={props.closePopup} >\r\n            <section className=\"popup__input-element\">\r\n                <input value={cardName || ''} onChange={handleChangeName} id=\"sing-in-place\" type=\"text\" placeholder=\"Название\" name=\"place\" className=\"popup__input popup__input_change_name-card\" required minLength=\"2\" maxLength=\"30\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-place-error\">{validationName}</span>\r\n            </section>\r\n            <section className=\"popup__input-element\">\r\n               <input value={cardLink || ''} onChange={handleChangeLink} id=\"sing-in-url\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"url\" className=\"popup__input popup__input_change_src\" required />\r\n              <span className=\"popup__input-error\" id=\"sing-in-url-error\">{validationLink}</span>\r\n            </section>\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction RemoveCardPopup(props) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRemoveCard()\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            buttonText={`${props.saving ? 'Удаление...' : 'Да'}`}\r\n            title=\"Вы уверены?\"\r\n            name=\"delete-card\"\r\n            isOpen={props.isOpen}\r\n            closePopup={props.closePopup} >\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default RemoveCardPopup;","function ImagePopup(props) {\r\n\r\n    return (\r\n    <section className={`popup popup_type_image ${props.cardLink ? 'popup_is-opened' : ''}`}>\r\n        <div className=\"popup__photo-container\">\r\n            <button onClick={props.closePopup} aria-label=\"Закрыть просмотр фото\" type=\"button\" className=\"popup__exit-see-photo\"></button>\r\n            <img src={`${props.cardLink}`} alt={`${props.cardName}`} className=\"popup__image-see-photo\" />\r\n            <h2 className=\"popup__text-see-photo\">{props.cardName}</h2>\r\n        </div>\r\n    </section>\r\n    );\r\n}\r\nexport default ImagePopup;","class Api {\n  constructor(config) {\n    this.url = config.url;\n    this.authorization = config.auth;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getProfileData() {\n    return fetch(`${this.url}/users/me`, {\n     headers: {\n       authorization: this.authorization,\n       method: 'GET',\n     }\n   })\n   .then(res => this._getResponseData(res))\n }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, {\n      headers: {\n        authorization: this.authorization,\n        method: 'GET',\n      }\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  profileRedact(data) {\n    return fetch(`${this.url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  cardCreate(data) {\n    return fetch(`${this.url}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this.url}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this.authorization,\n        },\n      })\n      .then(res => this._getResponseData(res))\n    } else {\n      return fetch(`${this.url}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: {\n          authorization: this.authorization,\n        },\n      })\n      .then(res => this._getResponseData(res))\n    }\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.authorization,\n      },\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  avatarRedact(data) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n}\n\nconst apiMesto = new Api({\n  url: 'https://nomoreparties.co/v1/cohort-27',\n  auth: '947e1a41-7fdd-411e-be19-4441fbe7ac08'\n})\n\nexport default apiMesto","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport RemoveCardPopup from './RemoveCardPopup';\nimport ImagePopup from './ImagePopup';\nimport apiMesto from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({name: '', abaut: '', avatar: '', _id: ''});\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [deleteCard, setDeleteCard] = React.useState(null);\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\n  const [isSaving, setIsSaving] = React.useState(false);\n\n  React.useEffect(() => {\n    apiMesto\n    .getProfileData()\n    .then (data => {\n      if(data) {\n        setCurrentUser(data)\n      }\n    })\n    .catch(err => console.log(err))\n  }, []);\n\n\n\n  function handleCardClick(item) {\n    setSelectedCard(item);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    if(isEditProfilePopupOpen){\n      setIsEditProfilePopupOpen(false);\n    }\n    if(isEditAvatarPopupOpen){\n      setIsEditAvatarPopupOpen(false);\n    }\n    if(isAddPlacePopupOpen){\n      setIsAddPlacePopupOpen(false);\n    }\n    if(deleteCard){\n      setDeleteCard(null);\n    }\n    if(selectedCard.link){\n      setSelectedCard({name: '', link: ''});\n    }\n  }\n\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape)\n    \n    return () => document.removeEventListener('keydown', closeByEscape)\n  }, [closeAllPopups])\n\n  function handleUpdateUser(newDataUser) {\n    setIsSaving(true)\n    apiMesto\n    .profileRedact(newDataUser)\n    .then((data) => {\n      setCurrentUser(data)\n      setIsEditProfilePopupOpen(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    setIsSaving(true)\n    apiMesto\n    .avatarRedact(newAvatar)\n    .then((data) => {\n      setCurrentUser(data)\n      setIsEditAvatarPopupOpen(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsSaving(true)\n    apiMesto\n    .cardCreate(newCard)\n    .then((data) => {\n      setCards([data, ...cards]); \n      setIsAddPlacePopupOpen(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  React.useEffect(() => {\n    apiMesto\n    .getInitialCards()\n    .then (data => {\n        setCards(data)\n    })\n    .catch(err => console.log(err))\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    apiMesto\n    .changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch(err => console.log(err))\n  }\n\n  function handleRemoveCardSubmit() {\n    setIsSaving(true)\n    apiMesto\n    .deleteCard(deleteCard._id)\n    .then(() => {\n      setCards((state) => state.filter((c) => c._id !== deleteCard._id));\n      setDeleteCard(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n\n        <Header />\n\n        <Main\n          initialCards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={setDeleteCard}\n          сardClick={handleCardClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n        />\n\n        <Footer />\n\n        <EditProfilePopup\n          saving={isSaving}\n          onUpdateUser={handleUpdateUser} \n          isOpen={isEditProfilePopupOpen}\n          closePopup={closeAllPopups}\n        />\n      \n        <AddPlacePopup\n          saving={isSaving}\n          onAddPlace={handleAddPlaceSubmit}\n          isOpen={isAddPlacePopupOpen}\n          closePopup={closeAllPopups}\n        />\n\n        <EditAvatarPopup\n          saving={isSaving}\n          onUpdateAvatar={handleUpdateAvatar}\n          isOpen={isEditAvatarPopupOpen}\n          closePopup={closeAllPopups}\n        />\n\n        <RemoveCardPopup\n          saving={isSaving}\n          onRemoveCard={handleRemoveCardSubmit}\n          isOpen={deleteCard}\n          closePopup={closeAllPopups}\n        />\n\n        <ImagePopup\n          cardName={selectedCard.name}\n          cardLink={selectedCard.link}\n          closePopup={closeAllPopups}\n        />\n\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}